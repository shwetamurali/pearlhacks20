<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Financial Literacy Quiz</title>
<h2> Check Your Knowledge! </h2>
<style>
div#test{ border:#5AB029 3px solid; padding:10px 40px 40px 40px; background-color:#E5FCE3; width:50%;}
</style>

<script type="text/javascript">
// pos is position of where the user in the test or which question they're up to
var pos = 0, test, test_status, question, choice, choices, chA, chB, chC, correct = 0;
// this is a multidimensional array with 4 inner array elements with 5 elements inside them
// if you don't want answers viewable in the code, then you should use PHP and mySQL database
var questions = [
  ["What are the 5 factors that add up to make your credit score?", "Amount owed + highest interest rate + number of cards + delinquencies + overages", "Payment history + utilization ratio + new applications + length of use + kinds of credit", "Gross income + number of cards + payment history + penalties + savings", "B"],
  ["What's the maximum debt-to-income ratio you should have to maintain financial stability?", "No more than 27%", "No more than 50%", "No more than 41%", "C"],
  ["What does APR stand for?", "Annual Percentage Rate", "Applied Percentage Rate", "Annual Penalty Rate", "A"],
  ["How much money do you need for a down payment on a traditional mortgage?", "5% of the amortization on the loan", "At least $20,000", "At least 20% of the purchase price", "C"],
  ["How is net worth calculated?", "Assest - Liabilites", "Credit Score x income", "Income - debt", "A"],
  ["What's the retirement plan that you get through your employer called?", "401(k)", "Roth IRA", "Social security", "A"],
  ["What debts cannot be discharged by bankruptcy?", "Payday loans, cash advances, short-term installment loans", "Student loans, child support, alimony, court judgments", "Any debt can be discharged. Bankruptcy is a get out of jail free card.", "B"]
  ];
// this get function is short for the getElementById function
function get(x){
  return document.getElementById(x);
}
function renderQuestion(){
  test = get("test");
  if(pos >= questions.length){
        test.innerHTML = "<h2>You got "+correct+" of "+questions.length+" questions correct</h2> <h2>Here are some resources that you could use to improve your score: </h2> <ul><li><a href=\"https://studentaid.gov\">FAFSA</a></li><li><a href=\"https://annualcreditreport.com/index.action\">Annual Credit Report</a></li><li><a href=\"https://irs.gov\">IRS</a></li><li><a href=\"https://wisebread.com\">Wisebread</a></li><li><a href=\"https://bankingsense.com\">BankingSense</a></li><li><a href=\"https://mymoney.gov/Pages/default.aspx\">MyMoney</a></li></ul><button> <a href=\"../ph20.html\"> Return Home </button>";
    get("test_status").innerHTML = "Test completed";
    get("test_status").innerHTML = "Test completed";
    // resets the variable to allow users to restart the test
    pos = 0;
    correct = 0;
    // stops rest of renderQuestion function running when test is completed

    return false;
  }
  get("test_status").innerHTML = "Question "+(pos+1)+" of "+questions.length;
  question = questions[pos][0];
  chA = questions[pos][1];
  chB = questions[pos][2];
  chC = questions[pos][3];
  test.innerHTML = "<h3>"+question+"</h3>";
  // the += appends to the data we started on the line above
  test.innerHTML += "<input type='radio' name='choices' value='A'> "+chA+"<br>";
  test.innerHTML += "<input type='radio' name='choices' value='B'> "+chB+"<br>";
  test.innerHTML += "<input type='radio' name='choices' value='C'> "+chC+"<br><br>";
  test.innerHTML += "<button onclick='checkAnswer()'>Submit Answer</button>";
}
function checkAnswer(){
  // use getElementsByName because we have an array which it will loop through
  choices = document.getElementsByName("choices");
  for(var i=0; i<choices.length; i++){
    if(choices[i].checked){
      choice = choices[i].value;
    }
  }
  // checks if answer matches the correct choice
  if(choice == questions[pos][4]){
    //each time there is a correct answer this value increases
    correct++;
  } else {
  	switch(pos) {
  		case 0:
    		alert("Sorry! That's incorrect! \n The correct answer is B! \n Your credit score factors in your payment history, the record of if you’ve made your payments on time and details about how late each late payment was, and your utilization ratio, which is how the amount you owe compares to the amount of credit you’re extended. It also factors in new credit, if you have applied for new loans in a short period of time the risk could be higher for lenders, length of use, to measure consistency, and the types of credit you have.")
    		break;
  		case 1:
    		alert("Sorry! That's incorrect! \n The correct  answer is C! \n Most lenders want to see a debt-to-income ratio smaller than 36%, and it shouldn’t be any more than 41%. They also don’t want to see more than 28% of that going towards your mortgage. ")
    		break;
    	case 2:
    		alert("Sorry! That's incorrect! \n The correct  answer is A! \n APR is the Annual Percentage Rate, or an annualized representation of your interest rate. ")
    		break;
    	case 3:
    		alert("Sorry! That's incorrect! \n The correct  answer is C! \n A downpayment of 10%, or 20,000$ on an average home could let you become a homeowner soon, although the rates vary by lender and having more money saved up is not a bad idea.")
    		break;
    	case 4:
    		alert("Sorry! That's incorrect! \n The correct  answer is A! \n Net worth is calculated by weighing your assets minus your liabilities, or what you own minus what you owe. There are many tools online that will calculate your net worth for you.")
    		break;
    	case 5:
    		alert("Sorry! That's incorrect! \n The correct  answer is A! \n Your 401k is a retirement savings plan that allows you to divert part of your salary into saving for your future.")
    		break;
    	case 6:
    		alert("Sorry! That's incorrect! \n The correct  answer is B! \n When filing for Chapter 7 bankruptcy, most debts are wiped out, but some are “nondischargeable” meaning they cannot be wiped out, including student loans, child support, alimony, and court judgements as detailed by the US Bankruptcy code.")
    		break;
}
  }
  // changes position of which character user is on
  pos++;
  // then the renderQuestion function runs again to go to next question
  renderQuestion();
}
window.addEventListener("load", renderQuestion, false);
</script>
</head>
<body>
<h2 id="test_status"></h2>
<div id="test"></div>
</body>

</html>
